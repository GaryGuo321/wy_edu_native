require(["config"],function(e){require(["jenny","emitter","lifeCycle","banner","login","messageScoll","notice","pagination","subjectList","tab","vedio","ejs"],function(e,t,n,i,a,o,l,r,c,s,u){function d(t,n){(new c).init({container:e(".subject-list"),url:"http://study.163.com/webDev/couresByCategory.htm",requestData:{pageNo:1,psize:t,type:n},onPagination:function(){var i=this;(new r).init({container:e(".page-num"),totalPages:i.data.totalPage,visiblePages:8,currentPage:i.data.pagination.pageIndex,onPageChange:function(e,a){(new c).init({container:i.container,url:i.url,requestData:{pageNo:this.currentPage,psize:t,type:n}})}})}})}(new l).init({container:e(".h-notice"),cookieName:"wangyi_notice_show",cookieTime:1e4});var g="";document.body.clientWidth>1205?(e("body").attr("value",20),g=1):(e("body").attr("value",15),g=2),document.all&&!document.addEventListener?console.log("IE8 or lower"):window.onresize=function(){document.body.clientWidth>1205?1!=g&&(g=1,e("body").attr("value",20),d(e("body").attr("value"),e("#tab-list").attr("value"))):2!=g&&(g=2,e("body").attr("value",15),d(e("body").attr("value"),e("#tab-list").attr("value")))},(new s).init({container:e("#tab-list .tab"),initNum:1,onChangeTab:function(){d(e("body").attr("value"),e("#tab-list").attr("value"))}}),d(e("body").attr("value"),e("#tab-list").attr("value")),(new o).init({container:e(".rank-list-box"),url:"http://study.163.com/webDev/hotcouresByCategory.htm",times:300,delayTime:5e3}),(new i).init({container:e(".m-banner"),imgData:[{imgUrl:"images/banner1-d5c2698033.jpg",linkUrl:"http://open.163.com/"},{imgUrl:"images/banner2-1b2509e91c.jpg",linkUrl:"http://study.163.com/"},{imgUrl:"images/banner3-56958e8df4.jpg",linkUrl:"http://www.icourse163.org/"}],defaultShowNum:1,times:5e3});var m=!1;"true"==e.getCookie("isLogin")?e(".h-content .message")[0].innerHTML='<p class="login-now"><i class="true-img"></i>已登录 <span>|</span> <a href="#" class="cancel">退出</a></p>':e(".h-content .message")[0].innerHTML='<p class="login">登录网易云</p>',e(".login").addHandler("click",function(){m?e(".login-modal").show():(new a).init({})}),e(".login-now .cancel").addHandler("click",function(t){t.preventDefault(),e.unsetCookie("isLogin"),window.location.reload()});var p=!1,b=null;e(".play-content").addHandler("click",function(t){p?(e(".vedio-modal").show(),b.template.find("#"+b.id)[0].load()):(p=!0,b=(new u).init({src:"http://mov.bn.netease.com/open-movie/nos/mp4/2014/12/30/SADQ86F5S_shd.mp4",poster:"images/DSC_21@2x-43fa74e707.png",width:"550px",height:"350px",type:"video/mp4",controls:"controls",id:"myVideo"}))})})});