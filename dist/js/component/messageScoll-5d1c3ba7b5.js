!function(t,a){"function"==typeof define?define.amd&&define("messageScoll",["jenny","emitter","lifeCycle","ejs"],t):a.SubjectScoll=t(Jenny)}(function(t,a,e){function i(){e.apply(this,arguments),a.apply(this,arguments),this.data=null,this.url=null,this.scroll={},this.mes1=null}return t.extend(i.prototype,e.prototype,a.prototype,{dataUI:function(a){var e=this;t.CORSRequest(this.url,null,function(t){e.data=JSON.parse(t),a()})},templateUI:function(){console.log(this.data);var a={data:this.data};this.template=t(ejs.render('<ul id="mes1">\t\t\t<% for (var i = 0; i < data.length; i++) { %>\t\t\t<li>\t\t\t\t<a class="rank-list" href="javascript:void(0)" title="<%= data[i].name %>" data-id="<%= data[i].id %>" data-name="<%= data[i].name %>" data-provider="<%= data[i].provider %>" data-learnercount="<%= data[i].learnerCount %>" data-price="<%= data[i].price %>" data-categoryname="<%= data[i].categoryName %>" data-description="<%= data[i].description %>">\t\t\t\t\t<div><img src="<%= data[i].middlePhotoUrl %>"></div>\t\t\t\t\t<h2><%= data[i].name %></h2>\t\t\t\t\t<p><i class="icon-user"></i> <%= data[i].learnerCount %></p>\t\t\t\t</a>\t\t\t</li>\t\t\t<% } %>\t\t</ul>\t\t<ul id="mes2">\t\t\t<% for (var i = 0; i < data.length; i++) { %>\t\t\t<li>\t\t\t\t<a class="rank-list" href="javascript:void(0)" title="<%= data[i].name %>" data-id="<%= data[i].id %>" data-name="<%= data[i].name %>" data-provider="<%= data[i].provider %>" data-learnercount="<%= data[i].learnerCount %>" data-price="<%= data[i].price %>" data-categoryname="<%= data[i].categoryName %>" data-description="<%= data[i].description %>">\t\t\t\t\t<div><img src="<%= data[i].middlePhotoUrl %>"></div>\t\t\t\t\t<h2><%= data[i].name %></h2>\t\t\t\t\t<p><i class="icon-user"></i> <%= data[i].learnerCount %></p>\t\t\t\t</a>\t\t\t</li>\t\t\t<% } %>\t\t</ul>',a),!0)},eventUI:function(){var a=this,e=null,i=null;this.mes1=t("#mes1"),this.scroll.height=t("#mes1 li").height(),console.log(this.scroll.height);var n=this.Times/this.scroll.height,r=function(){a.container[0].scrollTop++,a.container[0].scrollTop%a.scroll.height==0?(clearInterval(e),i=setTimeout(d,a.delayTime)):a.container[0].scrollTop>=a.mes1[0].offsetHeight&&(a.container[0].scrollTop=0)},d=function(){e=setInterval(r,n)};i=setTimeout(d,this.delayTime),this.container.addHandler("mouseenter",function(){clearInterval(e),clearTimeout(i)}).addHandler("mouseleave",function(){i=setTimeout(d,a.delayTime)})},render:function(a){this.dataUI(function(){this.templateUI(),this.template&&(this.template.appendTo(a||t("body")),this.eventUI(),this.styleUI())}.bind(this))},init:function(a){return t.extend(this,a),this.render(this.container),this}}),i},window);