!function(t,i){"function"==typeof define?define.amd&&define("subjectList",["jenny","emitter","lifeCycle","ejs"],t):i.SubjectList=t(Jenny)}(function(t,i,a){function e(){a.apply(this,arguments),i.apply(this,arguments),this.requestData={},this.url=null,this.pageContainer=null}return t.extend(e.prototype,i.prototype,a.prototype,{dataUI:function(i){var a=this;console.log(this.requestData),t.CORSRequest(this.url,this.requestData,function(t){a.data=JSON.parse(t);for(var e=0;e<a.data.list.length;e++)0==a.data.list[e].price?a.data.list[e].price="免费":a.data.list[e].price="¥"+Number.prototype.toFixed.call(a.data.list[e].price,2);i()})},templateUI:function(){var i={dataList:this.data.list};this.container[0].innerHTML="",this.template=t(ejs.render('<% for(var i = 0; i < dataList.length; i++) { %>\t\t<div class="subject-box">\t\t\t<a class="subject" href="javascript:void(0)" title="<%= dataList[i].name %>" data-id="<%= dataList[i].id %>" data-name="<%= dataList[i].name %>" data-provider="<%= dataList[i].provider %>" data-learnercount="<%= dataList[i].learnerCount %>" data-price="<%= dataList[i].price %>" data-categoryname="<%= dataList[i].categoryName %>" data-description="<%= dataList[i].description %>"><img src="<%= dataList[i].middlePhotoUrl %>" class="sub-img">\t\t        <p title="<%= dataList[i].name %>" class="title"><%= dataList[i].name %></p>\t\t        <p class="album"><%= dataList[i].provider %></p>\t\t        <p class="num"><i class="icon-user"></i> <%= dataList[i].learnerCount %></p>\t\t        <p class="price"><%= dataList[i].price %></p>    \t\t</a>    \t\t<a class="sub-hover">\t\t        <div class="top">\t\t            <img src="<%= dataList[i].middlePhotoUrl %>">\t\t            <h3><%= dataList[i].name %></h3>\t\t            <p class="num"><i class="icon-user"></i> <%= dataList[i].learnerCount %>人在学</p>\t\t            <p class="provider">发布者：<%= dataList[i].provider %></p>\t\t            <p class="sort">分类：<%= dataList[i].categoryName %></p>\t\t        </div>\t\t        <p class="description"><%= dataList[i].description %></p>\t\t    </a>\t\t</div>\t\t<% } %>',i),!0)},eventUI:function(){"function"==typeof this.onPagination&&this.onPagination()},render:function(i){this.dataUI(function(){this.templateUI(),this.template&&(this.template.appendTo(i||t("body")),this.eventUI(),this.styleUI())}.bind(this))},init:function(i){return t.extend(this,i),this.render(this.container),this}}),e},window);